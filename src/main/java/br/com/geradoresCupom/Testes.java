package br.com.geradoresCupom;

import java.io.IOException;

import javax.persistence.EntityManager;

import br.com.base.ET;
import br.com.emissao.GeradorCupomSAT;
import br.com.nota.Nota;
import net.sf.jasperreports.engine.JRException;

public class Testes {

	public static void main(String[] args) throws JRException, IOException {
		
		String[] arq = "621590|06000|0000|Emitido com sucesso + conte√∫do notas|||PENGZT48aW5mQ0ZlIElkPSJDRmUzNTE5MTAzNDA4Nzk5MzAwMDEwMDU5MDAwNzgyMDA5MDAwMDAxNjg1ODEyMyIgdmVyc2FvPSIwLjA3IiB2ZXJzYW9EYWRvc0VudD0iMC4wNyIgdmVyc2FvU0I9IjAyMDEwMCI+PGlkZT48Y1VGPjM1PC9jVUY+PGNORj42ODU4MTI8L2NORj48bW9kPjU5PC9tb2Q+PG5zZXJpZVNBVD4wMDA3ODIwMDk8L25zZXJpZVNBVD48bkNGZT4wMDAwMDE8L25DRmU+PGRFbWk+MjAxOTEwMDI8L2RFbWk+PGhFbWk+MTMwMTQ0PC9oRW1pPjxjRFY+MzwvY0RWPjx0cEFtYj4xPC90cEFtYj48Q05QSj4zMTc4NjUyNTAwMDEyODwvQ05QSj48c2lnbkFDPlFiUlhqTzVjcmtuWGdYQTYyR1BZcGd2bWV0RXVFTElpdWpPcmROUmcvbmIzeFRLRThGTnFWWTBjdkN2M3Q3V1JUUnhvcUlaeHIxTnptOGI0NFFNYlJFc2RoTGNCZGRHRWZ4SzJJbkU3NXl6YXVDMzFpUkhtZzQ0STQ2QWZyUHFVSzVodnBNVUcza2U3SlVjUnN4cWg2MUhRc0JUMUxpSzRXVW5YVGFUSjBGMlZ5MnlPQ3Qxb29EVWlWOTUxNWRsUnd3WHFiTENreGRLRG51WFpsUWdYSXRxYS8wZlo5UWNMWC9zNWlBNmxrY0EwNmJSTTdlMnZIKzFIeEJQUDlZQjJtcXdSeS8xY2NEZ2lWaDNSOEFXS3RiSVdLelVQZDRVQnZxc1BoMGRsVE84ZjlTZFJEdXJmcWV5eU9GMFo4MjYrRlE4Rk1LRzZZQ09INE5nZzdmUkordz09PC9zaWduQUM+PGFzc2luYXR1cmFRUkNPREU+Z0dQQkRKSG9pMFhGcmhucVhsNHozZVhvc2hOUGdHNWtiNHo2aEZSK01WUG81REp0bElUaEcxOTI3bVVxUlZxNjl4VlRmR1F0TUEwY1RLc1hrKzRWWmQ2VFlhYUJUeWFhSXR0Q0w4eEJ3QnR6U3d6czlUd0xrcHMvK0txR280MlFnUXc0aGJrY09EblJnWUxESGRFR1RBYVhLdVlqb3FlMTVyLzRwM2NxMGNYM3Q2bEtRYVhDdjJHTlA0clk1N25xNzh2UXl1V2l4N1lGelozUktMRTViWE0xbnpBMlZPMkhSbUlPQ1dMZERGL3hmenNhdTlQODJBQ3dnVlFiVW1nL0NYV01YRzBXMDFid1Z3WlJXY1BVY2FySWVvKzcvNU9lSHEyQWZZa3BQcm5DSHFWSkJ3eFN6YU8wZzdXRzRuUnMvOGhpSnRhMmhsTW5KZ1AwUTVNMEp3PT08L2Fzc2luYXR1cmFRUkNPREU+PG51bWVyb0NhaXhhPjAwMTwvbnVtZXJvQ2FpeGE+PC9pZGU+PGVtaXQ+PENOUEo+MzQwODc5OTMwMDAxMDA8L0NOUEo+PHhOb21lPkhFTFAgQ09NRVJDSU8gREUgRVFVSVBBTUVOVE9TIFVTQURPUyBFIFNFUlZJQ09TIEQ8L3hOb21lPjx4RmFudD5IRUxQIENPTUVSQ0lPIEUgU0VSVklDT1M8L3hGYW50PjxlbmRlckVtaXQ+PHhMZ3I+UlVBIEFOVE9OSU8gTUVTVFJJTkVSPC94TGdyPjxucm8+MTk0PC9ucm8+PHhDcGw+QU5EQVIgMTwveENwbD48eEJhaXJybz5CT05TVUNFU1NPPC94QmFpcnJvPjx4TXVuPkdVQVJVTEhPUzwveE11bj48Q0VQPjA3MTc1NTUwPC9DRVA+PC9lbmRlckVtaXQ+PElFPjc5NjkyNzE5OTExNzwvSUU+PGNSZWdUcmliPjM8L2NSZWdUcmliPjxpbmRSYXRJU1NRTj5OPC9pbmRSYXRJU1NRTj48L2VtaXQ+PGRlc3Q+PENQRj48L0NQRj48L2Rlc3Q+PGRldCBuSXRlbT0iMSI+PHByb2Q+PGNQcm9kPjg2NzM8L2NQcm9kPjx4UHJvZD5IZWFkc2V0IFByYWN0aWNhIGUgb3V0cmFzIG1hcmNhczwveFByb2Q+PE5DTT44NTE4MzAwMDwvTkNNPjxDRk9QPjUxNTI8L0NGT1A+PHVDb20+VU48L3VDb20+PHFDb20+Mi4wMDAwPC9xQ29tPjx2VW5Db20+MTUuMDAwPC92VW5Db20+PHZQcm9kPjMwLjAwPC92UHJvZD48aW5kUmVncmE+QTwvaW5kUmVncmE+PHZEZXNjPjAuMDA8L3ZEZXNjPjx2T3V0cm8+MC4wMDwvdk91dHJvPjx2SXRlbT4zMC4wMDwvdkl0ZW0+PC9wcm9kPjxpbXBvc3RvPjx2SXRlbTEyNzQxPjI2LjY5PC92SXRlbTEyNzQxPjxJQ01TPjxJQ01TMDA+PE9yaWc+MDwvT3JpZz48Q1NUPjAwPC9DU1Q+PHBJQ01TPjcuMDA8L3BJQ01TPjx2SUNNUz4yLjEwPC92SUNNUz48L0lDTVMwMD48L0lDTVM+PFBJUz48UElTQWxpcT48Q1NUPjAxPC9DU1Q+PHZCQz4zMC4wMDwvdkJDPjxwUElTPjAuNjUwMDwvcFBJUz48dlBJUz4xOS41MDwvdlBJUz48L1BJU0FsaXE+PC9QSVM+PENPRklOUz48Q09GSU5TQWxpcT48Q1NUPjAxPC9DU1Q+PHZCQz4zMC4wMDwvdkJDPjxwQ09GSU5TPjMuMDAwMDwvcENPRklOUz48dkNPRklOUz45MC4wMDwvdkNPRklOUz48L0NPRklOU0FsaXE+PC9DT0ZJTlM+PC9pbXBvc3RvPjxpbmZBZFByb2Q+UHJvZHV0byBlbWl0aWRvIHJlZmVyZW50ZSBhIHZlbmRhIG5vIHNpc3RlbWEgUlRDIENvbnRhYmlsPC9pbmZBZFByb2Q+PC9kZXQ+PGRldCBuSXRlbT0iMiI+PHByb2Q+PGNQcm9kPjU8L2NQcm9kPjx4UHJvZD5EVlJTIHBhcmEgQ2VudHJhbCBkZSBNb25pdG9yYW1lbnRvIEdJR0E8L3hQcm9kPjxOQ00+ODUyMTkwOTA8L05DTT48Q0ZPUD41Nzc3PC9DRk9QPjx1Q29tPlVOPC91Q29tPjxxQ29tPjIuMDAwMDwvcUNvbT48dlVuQ29tPjExLjAwMDwvdlVuQ29tPjx2UHJvZD4yMi4wMDwvdlByb2Q+PGluZFJlZ3JhPkE8L2luZFJlZ3JhPjx2RGVzYz4wLjAwPC92RGVzYz48dk91dHJvPjAuMDA8L3ZPdXRybz48dkl0ZW0+MjIuMDA8L3ZJdGVtPjwvcHJvZD48aW1wb3N0bz48dkl0ZW0xMjc0MT4yNi42OTwvdkl0ZW0xMjc0MT48SUNNUz48SUNNUzAwPjxPcmlnPjA8L09yaWc+PENTVD4wMDwvQ1NUPjxwSUNNUz44LjAwPC9wSUNNUz48dklDTVM+MS43NjwvdklDTVM+PC9JQ01TMDA+PC9JQ01TPjxQSVM+PFBJU0FsaXE+PENTVD4wMTwvQ1NUPjx2QkM+MjIuMDA8L3ZCQz48cFBJUz4wLjY1MDA8L3BQSVM+PHZQSVM+MTQuMzA8L3ZQSVM+PC9QSVNBbGlxPjwvUElTPjxDT0ZJTlM+PENPRklOU0FsaXE+PENTVD4wMTwvQ1NUPjx2QkM+MjIuMDA8L3ZCQz48cENPRklOUz4zLjAwMDA8L3BDT0ZJTlM+PHZDT0ZJTlM+NjYuMDA8L3ZDT0ZJTlM+PC9DT0ZJTlNBbGlxPjwvQ09GSU5TPjwvaW1wb3N0bz48aW5mQWRQcm9kPlByb2R1dG8gZW1pdGlkbyByZWZlcmVudGUgYSB2ZW5kYSBubyBzaXN0ZW1hIFJUQyBDb250YWJpbDwvaW5mQWRQcm9kPjwvZGV0Pjx0b3RhbD48SUNNU1RvdD48dklDTVM+My44NjwvdklDTVM+PHZQcm9kPjUyLjAwPC92UHJvZD48dkRlc2M+MC4wMDwvdkRlc2M+PHZQSVM+MzMuODA8L3ZQSVM+PHZDT0ZJTlM+MTU2LjAwPC92Q09GSU5TPjx2UElTU1Q+MC4wMDwvdlBJU1NUPjx2Q09GSU5TU1Q+MC4wMDwvdkNPRklOU1NUPjx2T3V0cm8+MC4wMDwvdk91dHJvPjwvSUNNU1RvdD48dkNGZT41Mi4wMDwvdkNGZT48dkNGZUxlaTEyNzQxPjI2LjY5PC92Q0ZlTGVpMTI3NDE+PC90b3RhbD48cGd0bz48TVA+PGNNUD4wMTwvY01QPjx2TVA+NTUuMDA8L3ZNUD48L01QPjx2VHJvY28+My4wMDwvdlRyb2NvPjwvcGd0bz48aW5mQWRpYz48aW5mQ3BsPkN1cG9tIGZpc2NhbCBlbWl0aWRvIHJlZmVyZW50ZSBhIHZlbmRhIGVtIGJhbGNhbyBubyBzaXN0ZW1hIFJUQyBDb250YWJpbDwvaW5mQ3BsPjxvYnNGaXNjbyB4Q2FtcG89IjA0LjA0LjA1LjA0Ij48eFRleHRvPkNvbWV0ZSBjcmltZSBxdWVtIHNvbmVnYTwveFRleHRvPjwvb2JzRmlzY28+PC9pbmZBZGljPjwvaW5mQ0ZlPjxTaWduYXR1cmUgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxTaWduZWRJbmZvIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj48Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ij48L0Nhbm9uaWNhbGl6YXRpb25NZXRob2Q+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZHNpZy1tb3JlI3JzYS1zaGEyNTYiPjwvU2lnbmF0dXJlTWV0aG9kPjxSZWZlcmVuY2UgVVJJPSIjQ0ZlMzUxOTEwMzQwODc5OTMwMDAxMDA1OTAwMDc4MjAwOTAwMDAwMTY4NTgxMjMiPjxUcmFuc2Zvcm1zPjxUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSI+PC9UcmFuc2Zvcm0+PFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvUkVDLXhtbC1jMTRuLTIwMDEwMzE1Ij48L1RyYW5zZm9ybT48L1RyYW5zZm9ybXM+PERpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZW5jI3NoYTI1NiI+PC9EaWdlc3RNZXRob2Q+PERpZ2VzdFZhbHVlPmJlZDV0aWQ3ckdKemhzRTlKTlZuR2thWTlyNlRpZzVRUHZEa3pSTFpER0U9PC9EaWdlc3RWYWx1ZT48L1JlZmVyZW5jZT48L1NpZ25lZEluZm8+PFNpZ25hdHVyZVZhbHVlPk1BMnhwcjlCMTh1R2MxVm1vZFhzMEt4emlEUmIrZUlHUU9aZnY1eW9GVnBVSGpOOFRHdUpzeERFMXdQWXVjaXpDMXg3NXFoVnpzQWJrZ3dwcWFwV01NcnlNSW8yYVdSWVVmbzR3NGxZNTVoaXBLTFNTejUvVC9lY3A3QlhZK1l5VHJma0JsNHZ3Rk1BazdGMGU0R1dGT29TZGpRd0sxczFaSyt3cTAzdXlJMnVCVWhHSEE3bjdtK0xxRG9mT1R1dXR0SGt4N3NsZjJqTzFXTnFvMTY4cDNWenlKV2FNYjExRHp2OGZoK0R1YnVLL2NYMXlpd0Z2QXcySXBVV0Z6MURJR2JpSFk0YVhnV2VSRDZlcmt2YkNiVEpqeDFFd29ZVmVhZjBiNEF3RUtiYXFCaWUwNSs0a0pETklZWWJNVVphRU5MMk9jb3VXREJhNEJINER0RDd3Zz09PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE+PFg1MDlDZXJ0aWZpY2F0ZT5NSUlHbERDQ0JIeWdBd0lCQWdJSkFSbzdQd1R0VFlNcE1BMEdDU3FHU0liM0RRRUJDd1VBTUZFeE5UQXpCZ05WQkFvVExGTmxZM0psZEdGeWFXRWdaR0VnUm1GNlpXNWtZU0JrYnlCRmMzUmhaRzhnWkdVZ1UyRnZJRkJoZFd4dk1SZ3dGZ1lEVlFRREV3OUJReUJUUVZRZ1UwVkdRVm9nVTFBd0hoY05NVGt3T1RNd01UUXhNVFE0V2hjTk1qUXdPVE13TVRReE1UUTRXakNCelRFU01CQUdBMVVFQlJNSk1EQXdOemd5TURBNU1Rc3dDUVlEVlFRR0V3SkNVakVTTUJBR0ExVUVDQk1KVTJGdklGQmhkV3h2TVJFd0R3WURWUVFLRXdoVFJVWkJXaTFUVURFUE1BMEdBMVVFQ3hNR1FVTXRVMEZVTVNnd0pnWURWUVFMRXg5QmRYUmxiblJwWTJGa2J5QndiM0lnUVZJZ1UwVkdRVm9nVTFBZ1UwRlVNVWd3UmdZRFZRUURFejlJUlV4UUlFTlBUVVZTUTBsUElFUkZJRVZSVlVsUVFVMUZUbFJQVXlCVlUwRkVUMU1nUlNCVFJWSldTVU5QVXlBNk16UXdPRGM1T1RNd01EQXhNREF3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ3doUEJQN1dIWHZtR2VUV2RkRmgxT0V6UnZZVUMrQlVkZTUzbW0xMElKY1ZWc2d1OHNSTFVHaVRoekVyOFh5YUF1Z2pTRzlnSFlJdU1FZmxPQjNySXRQcUdpT3VUOXJHcXh3SmdYU2tncUlHY1lOWmw2d3RpNmdFL2NQTTh2R3YzeGF5YUFEVDBJYkh0SWtrU001OEpBWmZCRExScE1KTzZKSDVMWHVQNXI2bTlBNlcwb2hkdWNCbnVjK0RFUnhNdFVlVXNDNEZnY0lGcDAzK01YUkRPQnNSQkVEaDVJTzlEK1B2VTRiZjVaeFp6emt3b0lRRXJyeXRoMnFBd21pdlhJRUhBWEFEQld3TGNIV1J2WVdYMnBxbW12MTF2SC9ScDF4NEsyNGMwbUVzRzJaVHZISHhGT2sxTGxRSU1SaUJ3bStLcjZXRFdLRHVYdUhBYlAyUlh0QWdNQkFBR2pnZ0h3TUlJQjdEQU9CZ05WSFE4QkFmOEVCQU1DQmVBd2RRWURWUjBnQkc0d2JEQnFCZ2tyQmdFRUFZSHNMUU13WFRCYkJnZ3JCZ0VGQlFjQ0FSWlBhSFIwY0RvdkwyRmpjMkYwTG1sdGNISmxibk5oYjJacFkybGhiQzVqYjIwdVluSXZjbVZ3YjNOcGRHOXlhVzh2WkhCakwyRmpjMlZtWVhwemNDOWtjR05mWVdOelpXWmhlbk53TG5Ca1pqQmxCZ05WSFI4RVhqQmNNRnFnV0tCV2hsUm9kSFJ3T2k4dllXTnpZWFF1YVcxd2NtVnVjMkZ2Wm1samFXRnNMbU52YlM1aWNpOXlaWEJ2YzJsMGIzSnBieTlzWTNJdllXTnpZWFJ6WldaaGVuTndMMkZqYzJGMGMyVm1ZWHB6Y0dOeWJDNWpjbXd3Z1pRR0NDc0dBUVVGQndFQkJJR0hNSUdFTUM0R0NDc0dBUVVGQnpBQmhpSm9kSFJ3T2k4dmIyTnpjQzVwYlhCeVpXNXpZVzltYVdOcFlXd3VZMjl0TG1KeU1GSUdDQ3NHQVFVRkJ6QUNoa1pvZEhSd09pOHZZV056WVhRdWFXMXdjbVZ1YzJGdlptbGphV0ZzTG1OdmJTNWljaTl5WlhCdmMybDBiM0pwYnk5alpYSjBhV1pwWTJGa2IzTXZZV056WVhRdWNEZGpNQk1HQTFVZEpRUU1NQW9HQ0NzR0FRVUZCd01DTUFrR0ExVWRFd1FDTUFBd0pBWURWUjBSQkIwd0c2QVpCZ1ZnVEFFREE2QVFCQTR6TkRBNE56azVNekF3TURFd01EQWZCZ05WSFNNRUdEQVdnQlN3aFlHektNMTJLaWtrUzE5WVNtOW8yYXl3S2pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQUxCWmxYZVBxcnl4Y1QwSGxNcCt6NUlWUlF2ajhDZlovVHdPRkk0SlBxQW9hcDQzS1FSQkdrOFNRYkV2Z05acXpMSmRUMlphWHpNdXN3WjBkamNEa1ZXL2RkUzdGY2RiUy9CQkZsbGVJbFVESzBKQWsxb25iOUorcE9CUDFKbUtPbGNoUm52ZjJaUjhUSVBpUWdmRG5Vd3BmR0t0RGx1Yy9JR3MrVHVlb044NWFjTHlGekQzbThmWVRjK2J5WG0vTVFwcTBGZ2J5MUxsdW1PQzFJdXM5Y3dEdkFMcnlGUkh1T1FQYkpzYWl5elZKdkZ4M1BwS045S2llVnBlN0RXUE1CbjVQeDJMZ2VqWUdoSVNmSDdQZWJsV0lJVDF1MHhrYkkxempVUmZ4OHhYcFYzOVhMbG51dllPOVBtc0prakoyN3dGWkc0QXdZK05HbDVYa3V0bEN4WGNSNlAyejM4cit2L2FmaXVEZ3JiRkFrZ0xpMDN1YzAyYmFvMXd2UHh6QVRsWmsrU24rVnlEU25NZU51SStaVkQ4Z0c2YWc0R1VMbndkcklEbm1seHVRS01HcXJYL0xOelVUNzMxb2dvL09oLy9JOVREcHd2VGVQN2JDTnByRGE5RmcrRFRFeUc5SVV5dlRxOGVIK3FFbno5V05vdDNjdkhGbjR5WXROVk5jWTJndEdLYlpXQ3lrM2l5SmF0QUhvQzFHZWRBamRHNHBCOUtUVkxLaGJoNUdrNzRSbTBxYzA4ci9Kd2xVWTR3TU8zTkxuOTJKeDFKeWFiM01BSWIxcVFWUXNLbk91U0dFZmVxRWtpTXJRYUEycnZNelY3RFQxM2lEYVdkaWcrKzBveXRsUkF4S0NKOTZJM0dFTHNtNXdMWjgvVnJ1S0V6aE1STUp6UWhZVXlrPTwvWDUwOUNlcnRpZmljYXRlPjwvWDUwOURhdGE+PC9LZXlJbmZvPjwvU2lnbmF0dXJlPjwvQ0ZlPg==|20191002130144|CFe35191034087993000100590007820090000016858123|52.00||gGPBDJHoi0XFrhnqXl4z3eXoshNPgG5kb4z6hFR+MVPo5DJtlIThG1927mUqRVq69xVTfGQtMA0cTKsXk+4VZd6TYaaBTyaaIttCL8xBwBtzSwzs9TwLkps/+KqGo42QgQw4hbkcODnRgYLDHdEGTAaXKuYjoqe15r/4p3cq0cX3t6lKQaXCv2GNP4rY57nq78vQyuWix7YFzZ3RKLE5bXM1nzA2VO2HRmIOCWLdDF/xfzsau9P82ACwgVQbUmg/CXWMXG0W01bwVwZRWcPUcarIeo+7/5OeHq2AfYkpPrnCHqVJBwxSzaO0g7WG4nRs/8hiJta2hlMnJgP0Q5M0Jw==".split("\\|");
		
		EntityManager et = ET.nova();
		
		Nota nota = et.find(Nota.class, 1);
		
		nota.setChave(arq[8]);
		
		int numero = Integer.parseInt(nota.getChave().substring(26, 35));
		nota.setNumero(numero);
		
		et.getTransaction().begin();
		et.getTransaction().commit();
		
		GeradorCupomSAT g = new GeradorCupomSATModelo1();
		
		
		String b64 = arq[8].replaceAll("CFe", "")+"|"+arq[7];
		
		
		
		for(int i=9;i<arq.length;i++){
			
			b64 += "|"+arq[i];
			
		}
		
		
		
		System.out.println(b64);
		g.gerarCupomFiscal(nota, b64);
		
		
	}
	
}
